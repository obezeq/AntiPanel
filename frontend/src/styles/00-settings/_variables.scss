// ==========================================================================
// DESIGN TOKENS - SCSS Variables + CSS Custom Properties
// ==========================================================================
// This file contains all design tokens for AntiPanel:
// 1. SCSS Variables - Used for compile-time calculations in mixins
// 2. CSS Custom Properties - Used for runtime theming and component styles
//
// ARCHITECTURE:
// - SCSS vars ($breakpoints, $font-sizes) are needed for @media queries in mixins
// - CSS vars (--color-*, --spacing-*, etc.) are used in component styles
// - Both coexist here because they serve different purposes
// ==========================================================================

// ===========================================================================
// PART 1: SCSS VARIABLES (Compile-time only)
// ===========================================================================
// These are ONLY used by _mixins.scss for media queries and typography.
// They cannot be changed at runtime.

// ---------------------------------------------------------------------------
// BREAKPOINTS (used by respond-to and respond-below mixins)
// ---------------------------------------------------------------------------
// Mobile-first approach: min-width breakpoints.

$breakpoint-sm: 640px;   // Mobile landscape / Large phone
$breakpoint-md: 768px;   // Tablet portrait
$breakpoint-lg: 1024px;  // Tablet landscape / Small desktop
$breakpoint-xl: 1280px;  // Desktop
$breakpoint-2xl: 1440px; // Large desktop (design reference)

// Breakpoint map for use in mixins
$breakpoints: (
  'sm': $breakpoint-sm,
  'md': $breakpoint-md,
  'lg': $breakpoint-lg,
  'xl': $breakpoint-xl,
  '2xl': $breakpoint-2xl
);

// ---------------------------------------------------------------------------
// FONT SIZE NAMES (used by typography mixin for validation)
// ---------------------------------------------------------------------------
// List of valid font size names. The actual values are defined as CSS
// custom properties (--font-size-*) below. This list is only used by
// the typography mixin to validate the $size parameter.

$font-size-names: ('title', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'body', 'caption', 'small', 'tiny');

// ===========================================================================
// PART 2: CSS CUSTOM PROPERTIES (Runtime)
// ===========================================================================
// These are the actual design tokens used in component styles.
// They can be overridden for theming (dark/light mode).

:root {
  // Force dark color scheme for browser UI elements
  color-scheme: dark;

  // -------------------------------------------------------------------------
  // COLOR TOKENS - Dark Mode (Primary Theme)
  // -------------------------------------------------------------------------

  // Background colors
  --color-background: hsl(0, 0%, 3.93%);         // Main background
  --color-tiny-info: hsl(0, 0%, 11%);          // Secondary background / subtle cards
  --color-information: hsl(0, 0%, 22.35%);        // Borders, separators

  // Text colors
  --color-text: #fafafa;               // Primary text
  --color-high-contrast: hsl(0, 0%, 100%);      // Maximum contrast text
  --color-foreground: hsl(0, 0%, 63%);         // Secondary text / descriptions
  --color-secondary: hsl(0, 0%, 40%);          // Tertiary text / borders

  // Semantic colors
  --color-success: hsl(134, 100%, 43%);            // Success states, CTAs, positive
  --color-success-dark: hsl(134, 100%, 38.5%);       // Success hover state
  --color-error: hsl(0, 100%, 63.33%);              // Error states, destructive actions
  --color-error-dark: hsl(0, 59.5%, 50.6%);         // Error hover state
  --color-status-yellow: hsl(44, 100%, 47%);      // Warning, pending states
  --color-status-yellow-dark: hsl(46, 100%, 42%); // Warning hover state
  --color-stats-blue: hsl(200, 100%, 50%);         // Statistics, informational

  // RGB versions for rgba() usage
  --color-success-rgb: 0, 220, 51;
  --color-error-rgb: 255, 68, 68;
  --color-status-yellow-rgb: 240, 177, 0;
  --color-stats-blue-rgb: 0, 165, 255;

  // Overlay colors
  --overlay-dark: rgba(0, 0, 0, 0.6);
  --overlay-dark-heavy: rgba(0, 0, 0, 0.7);

  // -------------------------------------------------------------------------
  // TYPOGRAPHY TOKENS
  // -------------------------------------------------------------------------

  // Font families
  --font-primary: 'Montserrat', system-ui, -apple-system, sans-serif;
  --font-secondary: 'IBM Plex Mono', 'SF Mono', 'Consolas', monospace;

  // Font sizes (rem-based for accessibility)
  --font-size-title: 8rem;        // 128px
  --font-size-h1: 6rem;           // 96px
  --font-size-h2: 4rem;           // 64px
  --font-size-h3: 3rem;           // 48px
  --font-size-h4: 2rem;           // 32px
  --font-size-h5: 1.5rem;         // 24px
  --font-size-h6: 1.25rem;        // 20px
  --font-size-body: 1rem;         // 16px
  --font-size-caption: 0.875rem;  // 14px
  --font-size-small: 0.75rem;     // 12px
  --font-size-tiny: 0.625rem;     // 10px

  // Font weights
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;

  // Line heights
  --line-height-tight: 1.15;    // Headings
  --line-height-normal: 1.5;    // Body text
  --line-height-relaxed: 1.75;  // Long-form content

  // -------------------------------------------------------------------------
  // SPACING TOKENS (Base-8 Grid)
  // -------------------------------------------------------------------------

  --spacing-1: 0.25rem;    // 4px
  --spacing-2: 0.5rem;     // 8px
  --spacing-3: 0.75rem;    // 12px
  --spacing-4: 1rem;       // 16px
  --spacing-5: 1.25rem;    // 20px
  --spacing-6: 1.5rem;     // 24px
  --spacing-8: 2rem;       // 32px
  --spacing-10: 2.5rem;    // 40px
  --spacing-12: 3rem;      // 48px
  --spacing-14: 3.5rem;    // 56px
  --spacing-16: 4rem;      // 64px
  --spacing-20: 5rem;      // 80px
  --spacing-24: 6rem;      // 96px
  --spacing-32: 8rem;      // 128px
  --spacing-40: 10rem;     // 160px

  // -------------------------------------------------------------------------
  // BORDER RADIUS TOKENS
  // -------------------------------------------------------------------------

  --radius-sm: 0.25rem;    // 4px - Small elements
  --radius-md: 0.5rem;     // 8px - Inputs, buttons
  --radius-lg: 1rem;       // 16px - Cards
  --radius-xl: 1.5rem;     // 24px - Large cards
  --radius-2xl: 2rem;      // 32px - Hero sections
  --radius-3xl: 2.5rem;    // 40px - Large panels
  --radius-full: 9999px;   // Pills, avatars

  // -------------------------------------------------------------------------
  // BORDER TOKENS
  // -------------------------------------------------------------------------

  --border-width-thin: 1px;
  --border-width-medium: 2px;
  --border-width-thick: 3px;
  --border-width-heavy: 4px;
  --border-width-extra: 6px;
  --border-width-extra-heavy: 8px;

  // -------------------------------------------------------------------------
  // SHADOW TOKENS
  // -------------------------------------------------------------------------

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.6);

  // Special shadows (from design)
  --shadow-success-glow: 0 4px 111px 0 rgba(0, 220, 51, 0.11);

  // Button glow shadows
  --shadow-button-glow: 0 0.25rem 2.0625rem rgba(255, 255, 255, 0.24);
  --shadow-button-glow-hover: 0 0.375rem 2.5rem rgba(255, 255, 255, 0.32);

  // -------------------------------------------------------------------------
  // GLOW EFFECT TOKENS
  // -------------------------------------------------------------------------

  // Soft, spread-out glows for stats (responsive blur radius)
  --glow-success-soft:
    0 0 clamp(20px, 3vw, 40px) rgba(var(--color-success-rgb), 0.4),
    0 0 clamp(40px, 6vw, 80px) rgba(var(--color-success-rgb), 0.2),
    0 0 clamp(60px, 9vw, 120px) rgba(var(--color-success-rgb), 0.1);
  --glow-blue-soft:
    0 0 clamp(20px, 3vw, 40px) rgba(var(--color-stats-blue-rgb), 0.4),
    0 0 clamp(40px, 6vw, 80px) rgba(var(--color-stats-blue-rgb), 0.2),
    0 0 clamp(60px, 9vw, 120px) rgba(var(--color-stats-blue-rgb), 0.1);

  // -------------------------------------------------------------------------
  // GRID BACKGROUND TOKENS
  // -------------------------------------------------------------------------

  --grid-color: rgba(57, 57, 57, 0.5);
  --grid-size: clamp(40px, 5vw, 60px); // Responsive: 40px min, 60px max

  // -------------------------------------------------------------------------
  // TRANSITION TOKENS
  // -------------------------------------------------------------------------

  --transition-fast: 150ms ease-in-out;
  --transition-base: 300ms ease-in-out;
  --transition-slow: 500ms ease-in-out;

  // Specific transitions
  --transition-colors: color 150ms ease-in-out, background-color 150ms ease-in-out, border-color 150ms ease-in-out;
  --transition-transform: transform 300ms ease-in-out;
  --transition-opacity: opacity 300ms ease-in-out;
  --transition-shadow: box-shadow 300ms ease-in-out;

  // -------------------------------------------------------------------------
  // Z-INDEX TOKENS
  // -------------------------------------------------------------------------

  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  --z-notification: 800;

  // -------------------------------------------------------------------------
  // LAYOUT TOKENS
  // -------------------------------------------------------------------------

  --container-max-width: 90rem;           // 1440px
  --container-padding: var(--spacing-6);  // 24px

  // Responsive header height (matches header.scss breakpoints)
  --header-height: 3.5rem;             // Base: 56px

  // -------------------------------------------------------------------------
  // FOCUS TOKENS (Accessibility)
  // -------------------------------------------------------------------------

  --focus-ring-width: 0.125rem;        // 2px
  --focus-ring-offset: 0.125rem;       // 2px
  --focus-ring-color: var(--color-stats-blue);
}

// ===========================================================================
// RESPONSIVE HEADER HEIGHT
// ===========================================================================
// Override --header-height at each breakpoint to match header.scss
// This enables DRY scroll-margin-top using calc(var(--header-height) + spacing)

@media screen and (min-width: 400px) {
  :root {
    --header-height: 4rem;             // 64px
  }
}

@media screen and (min-width: 640px) {
  :root {
    --header-height: 5rem;             // 80px (sm)
  }
}

@media screen and (min-width: 768px) {
  :root {
    --header-height: 6rem;             // 96px (md)
  }
}

@media screen and (min-width: 1024px) {
  :root {
    --header-height: 7rem;             // 112px (lg)
  }
}

@media screen and (min-width: 1280px) {
  :root {
    --header-height: 7.5rem;           // 120px (xl) - normalized to base-8 grid
  }
}

// ===========================================================================
// LIGHT MODE THEME
// ===========================================================================
// To activate light mode, add data-theme="light" to the <html> element.

[data-theme='light'] {
  color-scheme: light;

  // -------------------------------------------------------------------------
  // COLOR TOKENS - Light Mode
  // -------------------------------------------------------------------------

  // Background colors (inverted from dark mode)
  --color-background: hsl(0, 0%, 100%);
  --color-tiny-info: hsl(0, 0%, 96%);
  --color-information: hsl(0, 0%, 90%);

  // Text colors (inverted from dark mode)
  --color-text: hsl(0, 0%, 3.92%);
  --color-high-contrast: hsl(0, 0%, 0%);
  --color-foreground: hsl(0, 0%, 40%);
  --color-secondary: hsl(0, 0%, 60%);

  // Semantic colors (adjusted for light background)
  --color-success: hsl(134, 100%, 36%);
  --color-error: hsl(0, 72%, 50.6%);
  --color-status-yellow: hsl(45, 100%, 39.5%);
  --color-stats-blue: hsl(200, 98%, 39%);

  // RGB versions for rgba() usage (light mode values)
  --color-success-rgb: 0, 184, 43;
  --color-error-rgb: 220, 38, 38;
  --color-status-yellow-rgb: 202, 152, 0;
  --color-stats-blue-rgb: 2, 132, 199;

  // Overlay colors (lighter for light mode)
  --overlay-dark: rgba(0, 0, 0, 0.4);
  --overlay-dark-heavy: rgba(0, 0, 0, 0.5);

  // -------------------------------------------------------------------------
  // SHADOW TOKENS - Light Mode
  // -------------------------------------------------------------------------

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
  --shadow-success-glow: 0 4px 111px 0 rgba(0, 184, 43, 0.15);

  // Focus ring - darker for visibility on light backgrounds
  --focus-ring-color: hsl(201, 96.33%, 32%);

  // Grid - lighter for white background
  --grid-color: rgba(200, 200, 200, 0.4);
}

// ===========================================================================
// SYSTEM PREFERENCE OVERRIDE
// ===========================================================================
// Currently dark mode is FORCED regardless of system preference.

@media (prefers-color-scheme: light) {
  :root:not([data-theme='light']) {
    // Dark mode is forced - no overrides applied
  }
}
